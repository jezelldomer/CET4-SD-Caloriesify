/* * Copyright (c) 2020 Ruslan Potekhin */package com.feedapp.app.utilimport android.view.Viewimport android.widget.TextViewimport androidx.databinding.BindingAdapterimport com.feedapp.app.Robject BindingAdapters {    @JvmStatic    @BindingAdapter("visibleIf")    fun visibleIf(view: View, boolean: Boolean?) {        boolean ?: return        if (!boolean) {            view.visibility = View.VISIBLE        } else {            view.visibility = View.GONE        }    }    @JvmStatic    @BindingAdapter("waterSign")    fun water(view: TextView, amount: Int?) {        var t = amount?.let { "${(amount * .25f)}" } ?: "0"        if (t == "0.0") t = "0"        view.text = view.context.getString(R.string.home_liters, t)    }    @JvmStatic    @BindingAdapter("valueG", "multiplier")    fun valueG(view: TextView, amount: Float, multiplier: Double) {        view.text =            view.context.getString(R.string.detailed_grams, amount.times(multiplier / 100))                .replace(",", ".")    }    @JvmStatic    @BindingAdapter("valueK", "multiplier")    fun valueK(view: TextView, amount: Float, multiplier: Double) {        view.text =            view.context.getString(R.string.detailed_kcal, amount.times(multiplier / 100))                .replace(",", ".")    }    @JvmStatic    @BindingAdapter("kcalLeftOrOver")    fun kcalLeftOrOver(view: TextView, over: Boolean) {        view.text =            if (over) view.context.getString(R.string.kcal_Over) else view.context.getString(R.string.kcal_left)    }    @JvmStatic    @BindingAdapter("nutrientLeftOrOver")    fun nutrientLeftOrOver(view: TextView, triple: Triple<Int, Boolean, Int>) {        val t =            if (triple.second) view.context.getString(R.string.over) else view.context.getString(R.string.left)        view.text = view.context.getString(R.string.up_nutrient_over_or_left, triple.first, t)    }}